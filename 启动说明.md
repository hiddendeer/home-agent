# Home Agent 启动脚本

## 快速启动

### 方法 1：批处理脚本（推荐）
双击 `start-all.bat` 即可启动前端和后端服务。

**特点：**
- 在独立的窗口中运行前端和后端
- 可以清楚地看到每个服务的日志
- 关闭启动窗口不会影响服务运行

**访问地址：**
- 后端 API: http://localhost:8002
- 前端页面: http://localhost:5173（或前端窗口显示的端口）
- API 文档: http://localhost:8002/docs

### 方法 2：PowerShell 脚本
在 PowerShell 中运行：
```powershell
.\start-all.ps1
```

**特点：**
- 在同一窗口显示所有日志
- 带颜色标记区分前端和后端输出
- 按 Ctrl+C 可同时停止所有服务

## 停止服务

### 方法 1：关闭窗口
直接关闭前端和后端的命令行窗口即可。

### 方法 2：使用停止脚本
双击 `stop-all.bat` 自动停止所有服务。

## 单独启动

### 只启动后端
```bash
cd Home-backend
.venv\Scripts\activate
uvicorn main:app --reload --host 0.0.0.0 --port 8002
```

### 只启动前端
```bash
cd Home-frontend
npm run dev
```

## 项目结构

```
Home-agent/
├── start-all.bat     # 启动全部服务（批处理）
├── start-all.ps1     # 启动全部服务（PowerShell）
├── stop-all.bat      # 停止全部服务
├── Home-backend/     # 后端项目（FastAPI）
│   └── start_dev.bat # 单独启动后端
└── Home-frontend/    # 前端项目（Vite + React）
    └── package.json
```

## 常见问题

### 1. PowerShell 执行策略错误
如果运行 `.ps1` 脚本时报错，在 PowerShell（管理员）中运行：
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 2. 端口被占用
如果端口被占用，修改对应脚本中的端口号：
- 后端默认: 8002
- 前端默认: 5173

### 3. 虚拟环境未激活
确保后端虚拟环境存在：
```bash
cd Home-backend
uv venv --python 3.11
```

### 4. npm 依赖未安装
确保前端依赖已安装：
```bash
cd Home-frontend
npm install
```
